(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{25:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return a.findSourceMapURL}});let r=s(4770),a=s(526),i=s(2207).createServerReference},184:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,r:()=>l});var r=s(4727),a=s(8319),i=s(8061),n=s(924),d=s(6119);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:o=!1,...c}=e,u=o?i.DX:"button";return(0,r.jsx)(u,{className:(0,d.cn)(l({variant:a,size:n,className:s})),ref:t,...c})});o.displayName="Button"},1375:(e,t,s)=>{"use strict";s.d(t,{d:()=>m,o:()=>u});var r=s(8319);let a={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},i=0,n=new Map,d=(e,t)=>{switch(t.type){case a.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case a.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case a.DISMISS_TOAST:{let{toastId:s}=t;return s&&n.set(s,setTimeout(()=>{n.delete(s),c({type:a.REMOVE_TOAST,toastId:s})},1e6)),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case a.REMOVE_TOAST:if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],o={toasts:[]};function c(e){o=d(o,e),l.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(i=(i+1)%Number.MAX_VALUE).toString(),r=()=>c({type:a.DISMISS_TOAST,toastId:s});return c({type:a.ADD_TOAST,toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:a.UPDATE_TOAST,toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(o);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:a.DISMISS_TOAST,toastId:e})}}},1883:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(4727),a=s(8319),i=s(2822),n=s.n(i),d=s(184),l=s(6896),o=s(6345),c=s(2656),u=s(1375),m=s(25);let x=(0,m.createServerReference)("00e35e0a660df19d0b634ce64405d6c5e62663d683",m.callServer,void 0,m.findSourceMapURL,"enrichBooksWithMetadataAction");function h(){let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null),m=async()=>{t(!0);try{(0,u.o)({title:"Procesando libros",description:"Estamos enriqueciendo tus libros con metadatos. Esto puede tomar un momento..."});let e=await x();i(e),e.success?(0,u.o)({title:"Proceso completado",description:e.message}):(0,u.o)({title:"Error",description:e.message,variant:"destructive"})}catch(e){console.error("Error al enriquecer libros:",e),(0,u.o)({title:"Error",description:"Ocurri\xf3 un error inesperado al procesar los libros",variant:"destructive"})}finally{t(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-[#FDFCFB] p-6",children:(0,r.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,r.jsxs)("header",{className:"mb-8 flex items-center",children:[(0,r.jsx)(n(),{href:"/dashboard",className:"mr-4",children:(0,r.jsx)(l.A,{className:"h-5 w-5 text-[#888888]"})}),(0,r.jsx)("h1",{className:"font-serif text-2xl font-normal text-[#222222]",children:"Administraci\xf3n"})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,r.jsx)("h2",{className:"mb-4 font-serif text-xl text-[#222222]",children:"Herramientas de administraci\xf3n"}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-[#222222] mb-2",children:"Enriquecer libros con metadatos"}),(0,r.jsx)("p",{className:"text-sm text-[#888888] mb-4",children:"Esta acci\xf3n buscar\xe1 informaci\xf3n adicional para tus libros existentes utilizando la API de Google Books. Se actualizar\xe1n portadas, descripciones y otra informaci\xf3n relevante."}),(0,r.jsx)(d.$,{onClick:m,disabled:e,className:"w-full bg-[#D0E2FF] text-[#222222] hover:bg-[#FFA69E]",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Procesando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Enriquecer libros"]})})]})})]}),s&&(0,r.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,r.jsx)("h2",{className:"mb-4 font-serif text-xl text-[#222222]",children:"Resultados"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,r.jsx)("p",{className:"text-sm text-[#888888]",children:"Total de libros"}),(0,r.jsx)("p",{className:"text-xl font-medium text-[#222222]",children:s.total})]}),(0,r.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[(0,r.jsx)("p",{className:"text-sm text-[#888888]",children:"Actualizados"}),(0,r.jsx)("p",{className:"text-xl font-medium text-green-600",children:s.updated})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg text-center",children:[(0,r.jsx)("p",{className:"text-sm text-[#888888]",children:"Omitidos"}),(0,r.jsx)("p",{className:"text-xl font-medium text-yellow-600",children:s.skipped})]}),(0,r.jsxs)("div",{className:"bg-red-50 p-3 rounded-lg text-center",children:[(0,r.jsx)("p",{className:"text-sm text-[#888888]",children:"Fallidos"}),(0,r.jsx)("p",{className:"text-xl font-medium text-red-600",children:s.failed})]})]}),s.details&&s.details.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-[#222222] mb-2",children:"Detalles"}),(0,r.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg text-xs overflow-auto max-h-60",children:(0,r.jsx)("pre",{children:JSON.stringify(s.details,null,2)})})]})]})]})]})})}},2600:(e,t,s)=>{Promise.resolve().then(s.bind(s,1883))},2656:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7211).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},6119:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(4154),a=s(1173);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},6345:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7211).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6896:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(7211).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[228,520,79,296,358],()=>t(2600)),_N_E=e.O()}]);